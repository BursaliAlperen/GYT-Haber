<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GYT HABER - Canlı Haber Akışı</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);
            min-height: 100vh;
            color: #2d3748;
            line-height: 1.6;
        }

        .app-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header - GYT HABER Logosu */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px 30px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(76, 175, 80, 0.1);
            border: 1px solid rgba(76, 175, 80, 0.2);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 28px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo-main {
            font-size: 32px;
            font-weight: 900;
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1;
        }

        .logo-sub {
            font-size: 14px;
            color: #4caf50;
            font-weight: 600;
            letter-spacing: 2px;
            margin-top: 2px;
        }

        .live-badge {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 8px 16px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 700;
            animation: pulse 2s infinite;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Kategoriler - Gelişmiş İkonlar */
        .categories {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin: 20px 0;
            justify-content: center;
        }

        .category-btn {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid rgba(76, 175, 80, 0.2);
            padding: 15px 25px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            color: #666;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
        }

        .category-btn.active {
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
            border-color: transparent;
        }

        .category-btn .icon {
            font-size: 18px;
            transition: all 0.3s ease;
        }

        .category-btn.active .icon {
            transform: scale(1.2);
        }

        /* Navigation */
        .nav-tabs {
            display: flex;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 10px;
            margin: 20px 0;
            gap: 10px;
            border: 1px solid rgba(76, 175, 80, 0.2);
        }

        .nav-tab {
            flex: 1;
            padding: 15px 25px;
            text-align: center;
            border: none;
            background: transparent;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            color: #666;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .nav-tab.active {
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.4);
        }

        /* Breaking News */
        .breaking-news {
            background: linear-gradient(135deg, #4caf50, #388e3c);
            color: white;
            padding: 18px 25px;
            border-radius: 15px;
            margin: 25px 0;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 4px 20px rgba(76, 175, 80, 0.4);
        }

        .breaking-icon {
            font-size: 26px;
            animation: flash 1s infinite;
        }

        @keyframes flash {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .breaking-text {
            flex: 1;
            font-weight: 700;
            font-size: 16px;
        }

        /* Haber Grid */
        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin: 25px 0;
        }

        .news-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 0;
            box-shadow: 0 8px 32px rgba(76, 175, 80, 0.1);
            border: 1px solid rgba(76, 175, 80, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
            overflow: hidden;
        }

        .news-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(76, 175, 80, 0.15);
        }

        .news-image {
            width: 100%;
            height: 220px;
            object-fit: cover;
            background-color: #f5f5f5;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #888;
            font-size: 14px;
        }

        .news-content {
            padding: 25px;
        }

        .news-category {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .news-title {
            font-size: 18px;
            font-weight: 800;
            line-height: 1.4;
            margin-bottom: 12px;
            color: #2d3748;
        }

        .news-excerpt {
            color: #666;
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .news-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
            color: #888;
        }

        .news-time {
            display: flex;
            align-items: center;
            gap: 6px;
            font-weight: 600;
        }

        /* Reklam Alanları */
        .ad-section {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            text-align: center;
            border: 1px solid rgba(76, 175, 80, 0.2);
        }

        .ad-section-small {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 12px;
            padding: 20px;
            margin: 25px 0;
            text-align: center;
            border: 1px solid rgba(76, 175, 80, 0.2);
        }

        .ad-label {
            font-size: 12px;
            color: #4caf50;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 700;
        }

        .ad-placeholder {
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            color: white;
            padding: 40px 20px;
            border-radius: 10px;
            font-weight: 600;
            font-size: 16px;
        }

        .ad-banner {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            text-align: center;
            font-weight: 600;
        }

        /* Footer */
        .footer {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 40px 30px;
            margin-top: 50px;
            text-align: center;
            border: 1px solid rgba(76, 175, 80, 0.2);
        }

        .telegram-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 12px;
            margin: 25px 0;
        }

        .telegram-btn {
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-weight: 700;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .telegram-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            margin: 50px auto;
            padding: 0;
            border-radius: 20px;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            border: 2px solid #4caf50;
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(76, 175, 80, 0.9);
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            font-size: 22px;
            transition: all 0.3s ease;
        }

        .close-modal:hover {
            background: #388e3c;
            transform: scale(1.1);
        }

        /* Loading Spinner */
        .loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px;
            color: #4caf50;
            font-weight: 600;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(76, 175, 80, 0.3);
            border-radius: 50%;
            border-top-color: #4caf50;
            animation: spin 1s ease-in-out infinite;
            margin-bottom: 15px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .app-container {
                padding: 15px;
            }
            
            .header-content {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .news-grid {
                grid-template-columns: 1fr;
            }
            
            .nav-tabs {
                flex-direction: column;
            }
            
            .categories {
                flex-direction: column;
            }
            
            .modal-content {
                margin: 20px;
                max-width: calc(100% - 40px);
            }
        }

        /* Gelişmiş İkon Stilleri */
        .icon-flash {
            animation: flash 2s infinite;
        }

        .icon-bounce {
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .icon-spin {
            animation: spin 3s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Error Message */
        .error-message {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            margin: 20px 0;
            border: 1px solid rgba(76, 175, 80, 0.2);
        }

        .error-icon {
            font-size: 48px;
            color: #f44336;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        GYT
                    </div>
                    <div class="logo-text">
                        <div class="logo-main">GYT HABER</div>
                        <div class="logo-sub">CANLI YAYIN</div>
                    </div>
                </div>
                <div class="live-badge">
                    <i class="fas fa-broadcast-tower icon-flash"></i>
                    CANLI YAYIN
                </div>
            </div>
        </header>

        <!-- Kategoriler -->
        <div class="categories">
            <button class="category-btn active" data-category="all">
                <i class="fas fa-compass icon-spin"></i> Tümü
            </button>
            <button class="category-btn" data-category="politics">
                <i class="fas fa-landmark icon-bounce"></i> Politika
            </button>
            <button class="category-btn" data-category="business">
                <i class="fas fa-chart-line icon-flash"></i> Ekonomi
            </button>
            <button class="category-btn" data-category="sports">
                <i class="fas fa-trophy icon-bounce"></i> Spor
            </button>
            <button class="category-btn" data-category="health">
                <i class="fas fa-heartbeat icon-flash"></i> Sağlık
            </button>
            <button class="category-btn" data-category="entertainment">
                <i class="fas fa-film icon-bounce"></i> Eğlence
            </button>
            <button class="category-btn" data-category="world">
                <i class="fas fa-globe-americas icon-spin"></i> Dünya
            </button>
        </div>

        <!-- Navigation Tabs -->
        <div class="nav-tabs">
            <button class="nav-tab active" data-type="all">
                <i class="fas fa-layer-group"></i> Tüm Haberler
            </button>
            <button class="nav-tab" data-type="turkey">
                <i class="fas fa-flag"></i> Türkiye
            </button>
            <button class="nav-tab" data-type="world">
                <i class="fas fa-globe"></i> Dünya
            </button>
        </div>

        <!-- Breaking News -->
        <div class="breaking-news">
            <div class="breaking-icon">
                <i class="fas fa-bolt icon-flash"></i>
            </div>
            <div class="breaking-text" id="breakingText">
                Son dakika gelişmeleri için haberler yükleniyor...
            </div>
        </div>

        <!-- Reklam 1 - Üst Banner -->
        <div class="ad-section">
            <div class="ad-label">SPONSOR</div>
            <div class="ad-placeholder">GYT HABER ÖZEL REKLAM ALANI<br>Bu alanda sponsor içerikleri yer alır</div>
        </div>

        <!-- Haber Grid -->
        <div class="news-grid" id="newsGrid">
            <div class="loading">
                <div class="loading-spinner"></div>
                <p>Haberler yükleniyor...</p>
            </div>
        </div>

        <!-- Reklam 2 - Orta Banner -->
        <div class="ad-section">
            <div class="ad-label">ÖNERİLEN İÇERİK</div>
            <div class="ad-placeholder">GYT HABER ÖZEL REKLAM ALANI<br>Premium sponsorluk fırsatları</div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="logo" style="justify-content: center; margin-bottom: 20px;">
                <div class="logo-icon">
                    GYT
                </div>
                <div class="logo-text">
                    <div class="logo-main">GYT HABER</div>
                    <div class="logo-sub">RESMİ SİTE</div>
                </div>
            </div>
            
            <p style="color: #666; margin-bottom: 25px; font-size: 16px;">
                Türkiye'nin en güncel haber kaynağı
            </p>
            
            <div class="telegram-buttons">
                <a href="https://t.me/sansursuzv" class="telegram-btn" target="_blank">
                    <i class="fab fa-telegram"></i> Sansürsüz Haber
                </a>
                <a href="https://t.me/haberson2026" class="telegram-btn" target="_blank">
                    <i class="fab fa-telegram"></i> Haber Son
                </a>
                <a href="https://t.me/sondakikahaber1m" class="telegram-btn" target="_blank">
                    <i class="fab fa-telegram"></i> Son Dakika
                </a>
                <a href="https://t.me/sansursuzhabere" class="telegram-btn" target="_blank">
                    <i class="fab fa-telegram"></i> Sansürsüz Habere
                </a>
            </div>
            
            <div style="margin-top: 30px; color: #4caf50; font-size: 12px; font-weight: 600;">
                &copy; 2023 GYT HABER - Tüm hakları saklıdır
            </div>
        </footer>
    </div>

    <!-- Haber Detay Modal -->
    <div id="newsModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            
            <!-- Modal İçi Reklam 1 - Üst -->
            <div class="ad-section-small" style="margin: 20px; border-radius: 10px;">
                <div class="ad-label">SPONSOR</div>
                <div class="ad-banner">GYT HABER ÖZEL REKLAM</div>
            </div>

            <div id="modalContent">
                <!-- Modal içeriği JavaScript ile doldurulacak -->
            </div>

            <!-- Modal İçi Reklam 2 - Alt -->
            <div class="ad-section-small" style="margin: 20px; border-radius: 10px;">
                <div class="ad-label">REKLAM</div>
                <div class="ad-banner">GYT HABER ÖZEL REKLAM</div>
            </div>
        </div>
    </div>

    <script>
        // Haber Sistemi
        let currentCategory = 'all';
        let currentType = 'all';
        let newsData = [];

        // Sayfa Yüklendiğinde
        document.addEventListener('DOMContentLoaded', function() {
            loadNews();
            setupEventListeners();
        });

        // Event Listeners
        function setupEventListeners() {
            // Kategori değiştirme
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentCategory = this.dataset.category;
                    filterNews();
                });
            });

            // Tab değiştirme
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    currentType = this.dataset.type;
                    filterNews();
                });
            });

            // Modal kapatma
            document.getElementById('newsModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeModal();
                }
            });
        }

        // Haberleri Yükle - Web Scraping ile
        async function loadNews() {
            const newsGrid = document.getElementById('newsGrid');
            
            try {
                // Web Scraping ile haber çekme
                const scrapedNews = await scrapeNews();
                newsData = scrapedNews;
                
                // Breaking News güncelle
                updateBreakingNews();
                
                // Haberleri göster
                displayNews(newsData);
                
            } catch (error) {
                console.error('Haber yükleme hatası:', error);
                showError('Haberler şu anda yüklenemiyor. Lütfen daha sonra tekrar deneyin.');
            }
        }

        // Web Scraping Fonksiyonu - Geliştirilmiş
        async function scrapeNews() {
            const newsItems = [];
            
            try {
                // Haber kaynakları
                const sources = [
                    {
                        name: 'Hürriyet',
                        url: 'https://www.hurriyet.com.tr',
                        selectors: ['h3', '.news-title', '.title', 'a']
                    },
                    {
                        name: 'Milliyet', 
                        url: 'https://www.milliyet.com.tr',
                        selectors: ['.news-title', 'h3', '.title', 'a']
                    },
                    {
                        name: 'NTV',
                        url: 'https://www.ntv.com.tr',
                        selectors: ['.news-title', 'h3', '.title', 'a']
                    },
                    {
                        name: 'Sözcü',
                        url: 'https://www.sozcu.com.tr',
                        selectors: ['h3', '.news-title', '.title', 'a']
                    }
                ];

                // Her kaynaktan haber çek
                for (const source of sources) {
                    try {
                        // CORS proxy kullan (alternatif proxy'ler)
                        const proxyUrls = [
                            'https://api.allorigins.win/raw?url=',
                            'https://corsproxy.io/?',
                            'https://cors-anywhere.herokuapp.com/'
                        ];
                        
                        let success = false;
                        
                        for (const proxyUrl of proxyUrls) {
                            try {
                                const response = await fetch(proxyUrl + encodeURIComponent(source.url), {
                                    method: 'GET',
                                    headers: {
                                        'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
                                        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'
                                    }
                                });
                                
                                if (response.ok) {
                                    const html = await response.text();
                                    const parser = new DOMParser();
                                    const doc = parser.parseFromString(html, 'text/html');
                                    
                                    // Farklı selector'ları dene
                                    for (const selector of source.selectors) {
                                        const elements = doc.querySelectorAll(selector);
                                        elements.forEach((element, index) => {
                                            if (index < 6 && newsItems.length < 20) {
                                                const title = element.textContent?.trim();
                                                if (title && title.length > 20 && title.length < 200) {
                                                    // Benzersiz haber kontrolü
                                                    const isDuplicate = newsItems.some(item => 
                                                        item.title.includes(title.substring(0, 30)) || 
                                                        title.includes(item.title.substring(0, 30))
                                                    );
                                                    
                                                    if (!isDuplicate) {
                                                        newsItems.push({
                                                            id: newsItems.length + 1,
                                                            title: title,
                                                            excerpt: `${title.substring(0, 120)}...`,
                                                            category: getCategoryFromTitle(title),
                                                            type: Math.random() > 0.3 ? 'turkey' : 'world',
                                                            image: `https://picsum.photos/400/220?random=${newsItems.length + 1}`,
                                                            time: getRandomTime(),
                                                            content: `${title}. Bu haber GYT HABER tarafından ${source.name} kaynağından derlenmiştir. Detaylı bilgi için kaynak siteyi ziyaret edebilirsiniz.`,
                                                            source: source.name,
                                                            url: source.url
                                                        });
                                                    }
                                                }
                                            }
                                        });
                                    }
                                    
                                    success = true;
                                    break; // Başarılı proxy bulundu, diğerlerini deneme
                                }
                            } catch (proxyError) {
                                console.log(`${proxyUrl} çalışmıyor, diğer proxy deneniyor...`);
                                continue;
                            }
                        }
                        
                        if (!success) {
                            console.log(`${source.name} için hiçbir proxy çalışmıyor`);
                        }
                        
                        // Rate limiting
                        await new Promise(resolve => setTimeout(resolve, 1000));
                        
                    } catch (sourceError) {
                        console.log(`${source.name} haberleri çekilemedi:`, sourceError.message);
                        continue;
                    }
                }
                
                // Eğer hiç haber çekilemezse hata fırlat
                if (newsItems.length === 0) {
                    throw new Error('Hiçbir kaynaktan haber çekilemedi');
                }
                
                return newsItems;
                
            } catch (error) {
                console.error('Scraping hatası:', error);
                throw error; // Hata fırlat, fallback yok
            }
        }

        // Başlıktan kategori tahmini
        function getCategoryFromTitle(title) {
            const titleLower = title.toLowerCase();
            
            if (titleLower.includes('spor') || titleLower.includes('futbol') || titleLower.includes('basketbol') || titleLower.includes('maç')) {
                return 'sports';
            } else if (titleLower.includes('ekonomi') || titleLower.includes('dolar') || titleLower.includes('euro') || titleLower.includes('borsa')) {
                return 'business';
            } else if (titleLower.includes('sağlık') || titleLower.includes('hastane') || titleLower.includes('doktor') || titleLower.includes('tedavi')) {
                return 'health';
            } else if (titleLower.includes('sinema') || titleLower.includes('dizi') || titleLower.includes('film') || titleLower.includes('oyuncu')) {
                return 'entertainment';
            } else if (titleLower.includes('dünya') || titleLower.includes('abd') || titleLower.includes('rusya') || titleLower.includes('avrupa')) {
                return 'world';
            } else if (titleLower.includes('siyaset') || titleLower.includes('meclis') || titleLower.includes('seçim') || titleLower.includes('parti')) {
                return 'politics';
            } else {
                return 'politics'; // Varsayılan
            }
        }

        // Rastgele zaman oluştur
        function getRandomTime() {
            const times = ['15 dakika önce', '1 saat önce', '2 saat önce', '3 saat önce', '4 saat önce', '5 saat önce'];
            return times[Math.floor(Math.random() * times.length)];
        }

        // Breaking News güncelle
        function updateBreakingNews() {
            if (newsData.length > 0) {
                const breakingNews = newsData[0];
                document.getElementById('breakingText').textContent = breakingNews.title;
            }
        }

        // Haberleri Göster
        function displayNews(news) {
            const newsGrid = document.getElementById('newsGrid');
            
            if (news.length === 0) {
                showError('Henüz haber bulunmuyor. Lütfen daha sonra tekrar deneyin.');
                return;
            }
            
            let html = '';
            
            // Her 2 haberde bir reklam banner'ı ekle
            news.forEach((item, index) => {
                if (index > 0 && index % 2 === 0) {
                    html += `
                        <div class="ad-banner" style="grid-column: 1 / -1; text-align: center; padding: 20px; margin: 15px 0;">
                            <div class="ad-label">SPONSOR İÇERİK</div>
                            <div style="background: linear-gradient(135deg, #ff6b6b, #ee5a24); color: white; padding: 15px; border-radius: 10px;">
                                GYT HABER ÖZEL REKLAM ALANI
                            </div>
                        </div>
                    `;
                }
                
                html += `
                    <div class="news-card" onclick="openModal(${item.id})">
                        <div class="news-image">
                            ${item.image ? `<img src="${item.image}" alt="${item.title}" class="news-image">` : 
                              `<div style="display:flex; align-items:center; justify-content:center; height:100%; background:#f5f5f5; color:#888;">
                                <i class="fas fa-image" style="font-size:48px;"></i>
                              </div>`}
                        </div>
                        <div class="news-content">
                            <div class="news-category">
                                <i class="fas fa-tag"></i> ${getCategoryName(item.category)}
                            </div>
                            <h3 class="news-title">${item.title}</h3>
                            <p class="news-excerpt">${item.excerpt}</p>
                            <div class="news-meta">
                                <div class="news-time">
                                    <i class="far fa-clock"></i> ${item.time}
                                </div>
                                <div class="news-source">
                                    ${item.source || 'GYT Haber'}
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            newsGrid.innerHTML = html;
        }

        // Hata mesajı göster
        function showError(message) {
            const newsGrid = document.getElementById('newsGrid');
            newsGrid.innerHTML = `
                <div class="error-message">
                    <div class="error-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <h3>Haberler Yüklenemedi</h3>
                    <p>${message}</p>
                    <button onclick="loadNews()" style="margin-top: 15px; padding: 10px 20px; background: #4caf50; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">
                        <i class="fas fa-redo"></i> Tekrar Dene
                    </button>
                </div>
            `;
        }

        // Kategori ismini döndür
        function getCategoryName(category) {
            const categoryNames = {
                'politics': 'Politika',
                'business': 'Ekonomi',
                'sports': 'Spor',
                'health': 'Sağlık',
                'entertainment': 'Eğlence',
                'world': 'Dünya'
            };
            return categoryNames[category] || 'Genel';
        }

        // Haberleri Filtrele
        function filterNews() {
            let filteredNews = newsData;
            
            // Kategori filtresi
            if (currentCategory !== 'all') {
                filteredNews = filteredNews.filter(item => item.category === currentCategory);
            }
            
            // Tip filtresi
            if (currentType !== 'all') {
                filteredNews = filteredNews.filter(item => item.type === currentType);
            }
            
            displayNews(filteredNews);
        }

        // Modal Aç
        function openModal(newsId) {
            const newsItem = newsData.find(item => item.id === newsId);
            if (!newsItem) return;
            
            const modalContent = document.getElementById('modalContent');
            modalContent.innerHTML = `
                <div style="padding: 30px;">
                    <div class="news-category" style="margin-bottom: 20px;">
                        <i class="fas fa-tag"></i> ${getCategoryName(newsItem.category)}
                    </div>
                    <h1 style="font-size: 28px; font-weight: 800; line-height: 1.3; margin-bottom: 20px; color: #2d3748;">
                        ${newsItem.title}
                    </h1>
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 25px; color: #666; font-size: 14px;">
                        <div style="display: flex; align-items: center; gap: 5px;">
                            <i class="far fa-clock"></i> ${newsItem.time}
                        </div>
                        <div style="display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-source"></i> ${newsItem.source || 'GYT Haber'}
                        </div>
                    </div>
                    ${newsItem.image ? `<img src="${newsItem.image}" alt="${newsItem.title}" style="width: 100%; border-radius: 12px; margin-bottom: 25px;">` : ''}
                    <div style="font-size: 16px; line-height: 1.7; color: #444;">
                        ${newsItem.content}
                    </div>
                    <div style="margin-top: 25px; padding-top: 20px; border-top: 1px solid #eee; text-align: center;">
                        <div style="background: #f5f5f5; padding: 15px; border-radius: 8px; font-size: 14px; color: #666;">
                            <i class="fas fa-info-circle"></i> Bu haber GYT HABER tarafından hazırlanmıştır.
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('newsModal').style.display = 'block';
        }

        // Modal Kapat
        function closeModal() {
            document.getElementById('newsModal').style.display = 'none';
        }

        // Otomatik haber yenileme
        setInterval(() => {
            loadNews();
        }, 300000); // 5 dakikada bir haberleri yenile
    </script>
</body>
</html>
